# Tech Blog Generator

## 概要

**Tech Blog Generator** は、指定した GitHub リポジトリまたはアップロードされたプロジェクトフォルダを解析し、各ファイルの役割や詳細なコード解説を自動生成する Web アプリケーションです。解析結果を元に、章・節・項に分かれたテックブログのアウトラインおよび最終的な Markdown 形式の記事を作成します。

## 特徴

- **プロジェクト解析**  
  - GitHub リポジトリのクローンまたはアップロードされたフォルダから対象ファイルを再帰的に取得・解析します。
- **ディレクトリ構造の表示**  
  - プロジェクトのディレクトリツリーをツリー記号で可視化します。
- **ファイルの役割要約**  
  - 各ファイルの役割を、LLM (GPT-4) を用いて自動要約します。
- **詳細なコード解説**  
  - 各ファイルのコードを解析し、コードブロックごとに詳細な解説を生成します。
- **ブログアウトライン・最終記事生成**  
  - 解析結果をもとに、章・節・項に分けたブログ記事のアウトラインと最終記事を Markdown 形式で生成します。
- **プレビュー＆編集機能**  
  - ブラウザ上でアウトラインや記事のプレビュー・編集が可能です。
- **Markdown ダウンロード**  
  - 生成された記事を Markdown ファイルとしてダウンロードできます。

## 技術スタック

- **Python 3.8+**
- **Flask** – 軽量な Web フレームワーク
- **LangChain** & **OpenAI GPT-4** – 自然言語処理・文章生成
- **Markdown** – ブログ記事生成用
- **Poetry** – 依存関係管理ツール

## インストール

1. リポジトリをクローンします:

    ```bash
    git clone https://github.com/your_username/tech-blog-generator.git
    cd tech-blog-generator
    ```

2. Poetry を使って依存パッケージをインストールします:

    ```bash
    poetry install
    ```

3. プロジェクトルートに `.env` ファイルを作成し、以下の環境変数を設定してください:

    ```env
    OPENAI_API_KEY=your_openai_api_key
    FLASK_SECRET_KEY=your_secret_key
    PORT=8080  # 必要に応じて変更
    ```

## 使い方

1. アプリケーションを起動します:

    ```bash
    poetry run python app.py
    ```

2. ブラウザで `http://localhost:8080` にアクセスしてください。

3. トップページのフォームに、**GitHub リポジトリの URL** または **プロジェクトフォルダ** を指定し、ターゲット読者、ブログのトーン、その他の要件を入力して送信します。

4. 送信後、バックグラウンドでプロジェクト解析が開始され、進捗状況が表示されます。

5. 解析完了後、生成されたブログアウトラインをプレビュー・編集し、最終的なテックブログ記事を生成します。

6. 生成された記事は、プレビュー画面から Markdown ファイルとしてダウンロード可能です。

## API エンドポイント

- `GET /`  
  トップページ。プロジェクト解析開始用のフォームを表示します。

- `POST /`  
  プロジェクト解析処理を開始（バックグラウンドで実行）。

- `GET /progress`  
  解析進捗状況を JSON 形式で取得します。

- `GET /generate_outline`  
  解析結果をもとにブログアウトラインを生成します。

- `GET, POST /preview_outline`  
  生成されたアウトラインのプレビューおよび編集画面。

- `GET /generate_final_blog`  
  最終テックブログ記事を生成します。

- `GET, POST /preview_blog`  
  生成されたブログ記事のプレビューおよび編集画面。

- `GET /download_markdown`  
  生成された Markdown ファイルをダウンロードします。

## ディレクトリ構成

```tree
.
├── README.md
├── app.py
├── poetry.lock
├── pyproject.toml
└── templates
    ├── index.html
    ├── preview.html
    └── preview_outline.html
```

## 注意事項\

- GitHub リポジトリのクローン時に認証が必要な場合は、適切な認証方法を設定してください。
- 対象ファイルの解析には時間がかかる場合があります（特に大規模プロジェクトの場合）。
- セキュリティ上の理由から、アップロードされたファイルの取り扱いには十分注意してください。

<!-- 以下はテンプレ -->
<!-- 
## 貢献

バグ報告や機能改善の Pull Request を歓迎します。Issue や Pull Request を通じてご意見・ご要望をお寄せください。

## ライセンス

このプロジェクトは [MIT License](LICENSE) の下で公開されています。

---

**お問い合わせ**  
ご質問やご意見がありましたら、[your_email@example.com](mailto:your_email@example.com) までご連絡ください。
-->